<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Free Hugo autotranslator for Github Pages | MatSch Web</title><meta name=keywords content><meta name=description content="Automatically translate your Hugo website and deploy it to Github Pages"><meta name=author content><link rel=canonical href=https://blog.matschcode.de/en/coding/hugo-autotranslator/><link crossorigin=anonymous href=/de/assets/css/stylesheet.09ee21a6669fe512f440f5893d6d992a6f876d50bd1b65a57af845744567c223.css integrity="sha256-Ce4hpmaf5RL0QPWJPW2ZKm+HbVC9G2WlevhFdEVnwiM=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.matschcode.de/en/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.matschcode.de/en/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.matschcode.de/en/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.matschcode.de/en/apple-touch-icon.png><link rel=mask-icon href=https://blog.matschcode.de/en/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta property="og:image" content="https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png"><meta property="og:image:type" content="image/png/png"><meta property="og:image:width" content="768"><meta property="og:image:height" content="512"><link rel=alternate hreflang=de href=https://blog.matschcode.de/de/coding/hugo-autotranslator/><link rel=alternate hreflang=en href=https://blog.matschcode.de/en/coding/hugo-autotranslator/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://blog.matschcode.de/en/coding/hugo-autotranslator/"><meta property="og:site_name" content="MatSch Web"><meta property="og:title" content="Free Hugo autotranslator for Github Pages"><meta property="og:description" content="Automatically translate your Hugo website and deploy it to Github Pages"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="coding"><meta property="article:published_time" content="2025-06-26T00:00:00+00:00"><meta property="article:modified_time" content="2025-06-26T00:00:00+00:00"><meta property="og:image" content="https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png"><meta name=twitter:title content="Free Hugo autotranslator for Github Pages"><meta name=twitter:description content="Automatically translate your Hugo website and deploy it to Github Pages"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Codings","item":"https://blog.matschcode.de/en/coding/"},{"@type":"ListItem","position":2,"name":"Free Hugo autotranslator for Github Pages","item":"https://blog.matschcode.de/en/coding/hugo-autotranslator/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Free Hugo autotranslator for Github Pages","name":"Free Hugo autotranslator for Github Pages","description":"Automatically translate your Hugo website and deploy it to Github Pages","keywords":[],"articleBody":"The problem and the idea I want to write a blog post in english or german, and I don‚Äôt want translate it manually every time. This is much easier to maintain and obviously much less annoying.\nSo the idea is to automate this translation process. Therefore it should automatically be detected if the post is written in german or english and translate it to the other language.\nI like to use Github Actions to translate before deployment. For this I want to use free translation service.\nThe translation possibilities There are many possibilities to translate text using code. Most of them aren‚Äôt free, or have a limited length of characters. For example the API interface of known translation services like the DeepL API, or AI services liken OpenAI (which require a payed API key).\nGoogletrans For the first start I want to go with a free version. To do this I found the free python package googletrans. It is actually deprecated, but does still work with Python 3.12. This is ok in my case, because I can run it in Github Actions using an old environment.\nHugo multlingual mode To realize a multilingual website hugo must be prepared setup in multilingual mode. The main setup is done in the hugo.toml. In my case it works best like this:\ntitle = 'Website title' theme = 'PaperMod' defaultContentLanguage = \"de\" defaultContentLanguageInSubdir = true enableMissingTranslationPlaceholders = true [languages] [languages.de] baseURL = 'https://.github.io//de' languageName = \"Deutsch\" weight = 1 contentDir = \"content\" [languages.en] baseURL = 'https://.github.io//en' languageName = \"English\" weight = 2 contentDir = \"content\" The markdown files are generated like this:\ncontent - post1 -- index.md (original file) -- index.en.md -- index.de.md - post2 -- index.md (original file) -- index.en.md -- index.de.md How to translate Realisation of the auto translation using Github Actions and python\nSetup of translation environment in Github Actions workflow The first part of the Github Actions job is getting a python 3.12 environment and install the required dependencies. The second part is about running the actual translation script in python and commit the new, generated markdown files.\nThe second job is the deployment to the public directory (which contains the hugo html files) to the gh-pages branch which can be used in Github Pages.\njobs: translate: runs-on: ubuntu-24.04 steps: - uses: actions/checkout@v4 - name: Set up Python uses: actions/setup-python@v4 with: python-version: '3.12' - name: Install dependencies run: pip install requests python-frontmatter langdetect googletrans==4.0.0-rc1 - name: Translate Markdown files run: python scripts/translate_markdown.py - name: Commit translated files run: | git config user.name \"github-actions\" git config user.email \"github-actions@users.noreply.github.com\" git add content/ git diff --cached --quiet || git commit -m \"Auto-translated markdown files\" git push continue-on-error: true deploy: runs-on: ubuntu-22.04 needs: translate env: HUGO_CACHEDIR: /tmp/hugo_cache concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v4 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: 'latest' extended: true - name: Define cache uses: actions/cache@v4 with: path: ${{ env.HUGO_CACHEDIR }} key: ${{ runner.os }}-hugomod-${{ hashFiles('**/go.sum') }} restore-keys: | ${{ runner.os }}-hugomod- - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: github.ref == 'refs/heads/main' with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./public Auto translation The translation script consists of the following main parts:\nFind markdown files Check if files changed (hash check) Identify language of markdown file Replace code blocks, shortcodes, urls, ‚Ä¶ with placeholders (masking) Translation Unmask placeholders Save translated text into new files import frontmatter import hashlib import re from langdetect import detect from pathlib import Path import shutil from googletrans import Translator LANGS = {\"de\", \"en\"} BASE_PATH = Path(\"content\") translator = Translator() def hash_text(text: str) -\u003e str: return hashlib.sha256(text.encode(\"utf-8\")).hexdigest() def translate(text: str, source: str, target: str) -\u003e str: try: result = translator.translate(text, src=source, dest=target) return result.text except Exception as e: print(f\"Translation failed: {e}\") return \"\" def mask_placeholders(text): placeholders = {} placeholder_id = 0 def add_placeholder(match): nonlocal placeholder_id ph = f\"[[000001100000{placeholder_id}]]\" placeholders[ph] = match.group(0) placeholder_id += 1 return ph # Mask code blocks text = re.sub(r\"```.*?```\", add_placeholder, text, flags=re.DOTALL) # Mask inline code text = re.sub(r\"`[^`]+`\", add_placeholder, text) # Mask full markdown links and images text = re.sub(r\"!\\[[^\\]]*\\]\\([^)]+\\)\", add_placeholder, text) # images text = re.sub(r\"\\[[^\\]]+\\]\\([^)]+\\)\", add_placeholder, text) # links # Mask Hugo shortcodes text = re.sub(r\"\\{\\{\\s*[\u003c%].*?[\u003e%]\\s*\\}\\}\", add_placeholder, text, flags=re.DOTALL) # Mask **_** text = re.sub(r\"\\*\\*(.*?)\\*\\*\", add_placeholder, text, flags=re.DOTALL) return text, placeholders def unmask_placeholders(text, placeholders): for ph, original in placeholders.items(): text = text.replace(ph, original) return text for md_file in BASE_PATH.rglob(\"*.md\"): if md_file.suffix != \".md\": continue elif md_file.name.endswith((\".de.md\", \".en.md\")): continue # skip already translated files else: print(f\"file: {md_file}\") # Load base file post = frontmatter.load(md_file) content = post.content try: detected_lang = detect(content) except Exception as e: print(f\"Could not detect language for {md_file}: {e}\") continue if detected_lang not in LANGS: print(f\"Skipping {md_file}: unsupported language ({detected_lang})\") continue other_lang = \"en\" if detected_lang == \"de\" else \"de\" base_name = md_file.stem parent_dir = md_file.parent source_file = parent_dir / f\"{base_name}.{detected_lang}.md\" target_file = parent_dir / f\"{base_name}.{other_lang}.md\" post_hash = hash_text(content) # Skip if translated file exists AND content hash hasn't changed if target_file.exists(): existing_translated = frontmatter.load(target_file) if existing_translated.get(\"base_hash\") == post_hash: print(f\"‚úÖ Skipping {md_file}: translation up-to-date\") continue else: print(f\"üîÅ Updating translation for {md_file} ‚Üí {target_file}\") else: print(f\"üåç Translating {md_file} ‚Üí {target_file}\") # Copy base file to language-specific name if missing shutil.copy(md_file, source_file) print(f\"üìÑ Copied {md_file} ‚Üí {source_file}\") # Mask placeholders before translation masked_content, placeholders = mask_placeholders(content) # Translate masked content translated_masked_content = translate(masked_content, detected_lang, other_lang) if not translated_masked_content: print( f\"‚ö†Ô∏è Translation failed for {md_file} from {detected_lang} to {other_lang}, skipping.\" ) continue # Unmask placeholders in translated content translated_content = unmask_placeholders(translated_masked_content, placeholders) # Prepare translated post with metadata and base_hash translated_post = frontmatter.Post(translated_content, **post.metadata) translated_post[\"base_hash\"] = post_hash # Translate title if exists if \"title\" in post.metadata: translated_title = translate(post.metadata[\"title\"], detected_lang, other_lang) if translated_title: translated_post[\"title\"] = translated_title # Save translated file with open(target_file, \"w\", encoding=\"utf-8\") as f: f.write(frontmatter.dumps(translated_post)) print(f\"‚úÖ Translated and saved {target_file}\") After the new files are commited. The push to main triggers a new hugo build.\n","wordCount":"995","inLanguage":"en","image":"https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png","datePublished":"2025-06-26T00:00:00Z","dateModified":"2025-06-26T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.matschcode.de/en/coding/hugo-autotranslator/"},"publisher":{"@type":"Organization","name":"MatSch Web","logo":{"@type":"ImageObject","url":"https://blog.matschcode.de/en/favicon.ico"}}}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/css/nanogallery2.min.css></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://blog.matschcode.de/en/ accesskey=h title="MatSch Web (Alt + H)">MatSch Web</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.matschcode.de/de/ title=Deutsch aria-label=Deutsch>De</a></li></ul></div></div><ul id=menu><li><a href=https://blog.matschcode.de/en/about/ title=About><span>About</span></a></li><li><a href=https://blog.matschcode.de/en/coding/ title=Coding><span>Coding</span></a></li><li><a href=https://blog.matschcode.de/en/travel/ title=Travel><span>Travel</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.matschcode.de/en/>Home</a>&nbsp;¬ª&nbsp;<a href=https://blog.matschcode.de/en/coding/>Codings</a></div><h1 class="post-title entry-hint-parent">Free Hugo autotranslator for Github Pages</h1><div class=post-description>Automatically translate your Hugo website and deploy it to Github Pages</div><div class=post-meta><span title='2025-06-26 00:00:00 +0000 UTC'>June 26, 2025</span>&nbsp;¬∑&nbsp;<span>5 min</span>&nbsp;|&nbsp;<span>Translations:</span><ul class=i18n_list><li><a href=https://blog.matschcode.de/de/coding/hugo-autotranslator/>De</a></li></ul></div></header><figure class=entry-cover><img loading=eager srcset='https://blog.matschcode.de/en/coding/hugo-autotranslator/img1_hu_8ce10417c989c92a.png 360w,https://blog.matschcode.de/en/coding/hugo-autotranslator/img1_hu_cd984a87d79e1f13.png 480w,https://blog.matschcode.de/en/coding/hugo-autotranslator/img1_hu_b1fe4f7b27ac8ea5.png 720w,https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png 768w' src=https://blog.matschcode.de/en/coding/hugo-autotranslator/img1.png sizes="(min-width: 768px) 720px, 100vw" width=768 height=512 alt=hugo-autotranslator></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-problem-and-the-idea aria-label="The problem and the idea">The problem and the idea</a></li><li><a href=#the-translation-possibilities aria-label="The translation possibilities">The translation possibilities</a><ul><li><a href=#googletrans aria-label=Googletrans>Googletrans</a></li></ul></li><li><a href=#hugo-multlingual-mode aria-label="Hugo multlingual mode">Hugo multlingual mode</a></li><li><a href=#how-to-translate aria-label="How to translate">How to translate</a><ul><li><a href=#setup-of-translation-environment-in-github-actions-workflow aria-label="Setup of translation environment in Github Actions workflow">Setup of translation environment in Github Actions workflow</a></li><li><a href=#auto-translation aria-label="Auto translation">Auto translation</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=the-problem-and-the-idea>The problem and the idea<a hidden class=anchor aria-hidden=true href=#the-problem-and-the-idea>#</a></h2><p>I want to write a blog post in english or german, and I don&rsquo;t want translate it
manually every time. This is much easier to maintain and obviously much less
annoying.</p><p>So the idea is to automate this translation process. Therefore it should
automatically be detected if the post is written in german or english and translate
it to the other language.</p><p>I like to use Github Actions to translate before deployment.
For this I want to use free translation service.</p><h2 id=the-translation-possibilities>The translation possibilities<a hidden class=anchor aria-hidden=true href=#the-translation-possibilities>#</a></h2><p>There are many possibilities to translate text using code.
Most of them aren&rsquo;t free, or have a limited length of characters.
For example the API interface of known translation services like the <a href=https://www.deepl.com/en/pro#developer>DeepL API</a>,
or AI services liken OpenAI (which require a payed API key).</p><h3 id=googletrans>Googletrans<a hidden class=anchor aria-hidden=true href=#googletrans>#</a></h3><p>For the first start I want to go with a free version. To do this I found the
free python package googletrans. It is actually deprecated, but does still work
with Python 3.12. This is ok in my case, because I can run it in Github Actions
using an old environment.</p><h2 id=hugo-multlingual-mode>Hugo multlingual mode<a hidden class=anchor aria-hidden=true href=#hugo-multlingual-mode>#</a></h2><p>To realize a multilingual website hugo must be prepared setup in multilingual
mode.
The main setup is done in the <code>hugo.toml</code>.
In my case it works best like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#39;Website title&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>theme</span> = <span style=color:#e6db74>&#39;PaperMod&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>defaultContentLanguage</span> = <span style=color:#e6db74>&#34;de&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>defaultContentLanguageInSubdir</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>enableMissingTranslationPlaceholders</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>languages</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>languages</span>.<span style=color:#a6e22e>de</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#39;https://&lt;githubUsername&gt;.github.io/&lt;reponame&gt;/de&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>languageName</span> = <span style=color:#e6db74>&#34;Deutsch&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>contentDir</span> = <span style=color:#e6db74>&#34;content&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>languages</span>.<span style=color:#a6e22e>en</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#39;https://&lt;githubUsername&gt;.github.io/&lt;reponame&gt;/en&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>languageName</span> = <span style=color:#e6db74>&#34;English&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>contentDir</span> = <span style=color:#e6db74>&#34;content&#34;</span>
</span></span></code></pre></div><p>The markdown files are generated like this:</p><pre tabindex=0><code>content
- post1
-- index.md (original file)
-- index.en.md
-- index.de.md
- post2
-- index.md (original file)
-- index.en.md
-- index.de.md
</code></pre><h2 id=how-to-translate>How to translate<a hidden class=anchor aria-hidden=true href=#how-to-translate>#</a></h2><p>Realisation of the auto translation using Github Actions and python</p><h3 id=setup-of-translation-environment-in-github-actions-workflow>Setup of translation environment in Github Actions workflow<a hidden class=anchor aria-hidden=true href=#setup-of-translation-environment-in-github-actions-workflow>#</a></h3><p>The first part of the Github Actions job is getting a python 3.12 environment
and install the required dependencies.
The second part is about running the actual translation script in python and
commit the new, generated markdown files.</p><p>The second job is the deployment to the public directory (which contains the
hugo html files) to the gh-pages branch which can be used in Github Pages.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>translate</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-24.04</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Set up Python</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/setup-python@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>python-version</span>: <span style=color:#e6db74>&#39;3.12&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install dependencies</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>pip install requests python-frontmatter langdetect googletrans==4.0.0-rc1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Translate Markdown files</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>python scripts/translate_markdown.py</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Commit translated files</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git config user.name &#34;github-actions&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git config user.email &#34;github-actions@users.noreply.github.com&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git add content/
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git diff --cached --quiet || git commit -m &#34;Auto-translated markdown files&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git push</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>continue-on-error</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-22.04</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: <span style=color:#ae81ff>translate</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>HUGO_CACHEDIR</span>: <span style=color:#ae81ff>/tmp/hugo_cache</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>concurrency</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>group</span>: <span style=color:#ae81ff>${{ github.workflow }}-${{ github.ref }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;latest&#39;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Define cache</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/cache@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>path</span>: <span style=color:#ae81ff>${{ env.HUGO_CACHEDIR }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>key</span>: <span style=color:#ae81ff>${{ runner.os }}-hugomod-${{ hashFiles(&#39;**/go.sum&#39;) }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>restore-keys</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            ${{ runner.os }}-hugomod-</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</span></span></code></pre></div><h3 id=auto-translation>Auto translation<a hidden class=anchor aria-hidden=true href=#auto-translation>#</a></h3><p>The translation script consists of the following main parts:</p><ul><li>Find markdown files</li><li>Check if files changed (hash check)</li><li>Identify language of markdown file</li><li>Replace code blocks, shortcodes, urls, &mldr; with placeholders (masking)</li><li>Translation</li><li>Unmask placeholders</li><li>Save translated text into new files</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> frontmatter
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> hashlib
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> re
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> langdetect <span style=color:#f92672>import</span> detect
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pathlib <span style=color:#f92672>import</span> Path
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> shutil
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> googletrans <span style=color:#f92672>import</span> Translator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LANGS <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;de&#34;</span>, <span style=color:#e6db74>&#34;en&#34;</span>}
</span></span><span style=display:flex><span>BASE_PATH <span style=color:#f92672>=</span> Path(<span style=color:#e6db74>&#34;content&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>translator <span style=color:#f92672>=</span> Translator()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hash_text</span>(text: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> hashlib<span style=color:#f92672>.</span>sha256(text<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#34;utf-8&#34;</span>))<span style=color:#f92672>.</span>hexdigest()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>translate</span>(text: str, source: str, target: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> translator<span style=color:#f92672>.</span>translate(text, src<span style=color:#f92672>=</span>source, dest<span style=color:#f92672>=</span>target)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result<span style=color:#f92672>.</span>text
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Translation failed: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>mask_placeholders</span>(text):
</span></span><span style=display:flex><span>    placeholders <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>    placeholder_id <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add_placeholder</span>(<span style=color:#66d9ef>match</span>):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>nonlocal</span> placeholder_id
</span></span><span style=display:flex><span>        ph <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;[[000001100000</span><span style=color:#e6db74>{</span>placeholder_id<span style=color:#e6db74>}</span><span style=color:#e6db74>]]&#34;</span>
</span></span><span style=display:flex><span>        placeholders[ph] <span style=color:#f92672>=</span> <span style=color:#66d9ef>match</span><span style=color:#f92672>.</span>group(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        placeholder_id <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask code blocks</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;```.*?```&#34;</span>, add_placeholder, text, flags<span style=color:#f92672>=</span>re<span style=color:#f92672>.</span>DOTALL)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask inline code</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;`[^`]+`&#34;</span>, add_placeholder, text)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask full markdown links and images</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;!\[[^\]]*\]\([^)]+\)&#34;</span>, add_placeholder, text)  <span style=color:#75715e># images</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;\[[^\]]+\]\([^)]+\)&#34;</span>, add_placeholder, text)  <span style=color:#75715e># links</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask Hugo shortcodes</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;\{\{\s*[&lt;%].*?[&gt;%]\s*\}\}&#34;</span>, add_placeholder, text, flags<span style=color:#f92672>=</span>re<span style=color:#f92672>.</span>DOTALL)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask **_**</span>
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> re<span style=color:#f92672>.</span>sub(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;\*\*(.*?)\*\*&#34;</span>, add_placeholder, text, flags<span style=color:#f92672>=</span>re<span style=color:#f92672>.</span>DOTALL)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> text, placeholders
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>unmask_placeholders</span>(text, placeholders):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> ph, original <span style=color:#f92672>in</span> placeholders<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>        text <span style=color:#f92672>=</span> text<span style=color:#f92672>.</span>replace(ph, original)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> md_file <span style=color:#f92672>in</span> BASE_PATH<span style=color:#f92672>.</span>rglob(<span style=color:#e6db74>&#34;*.md&#34;</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> md_file<span style=color:#f92672>.</span>suffix <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;.md&#34;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> md_file<span style=color:#f92672>.</span>name<span style=color:#f92672>.</span>endswith((<span style=color:#e6db74>&#34;.de.md&#34;</span>, <span style=color:#e6db74>&#34;.en.md&#34;</span>)):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>  <span style=color:#75715e># skip already translated files</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;file: </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Load base file</span>
</span></span><span style=display:flex><span>    post <span style=color:#f92672>=</span> frontmatter<span style=color:#f92672>.</span>load(md_file)
</span></span><span style=display:flex><span>    content <span style=color:#f92672>=</span> post<span style=color:#f92672>.</span>content
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        detected_lang <span style=color:#f92672>=</span> detect(content)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Could not detect language for </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> detected_lang <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> LANGS:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Skipping </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74>: unsupported language (</span><span style=color:#e6db74>{</span>detected_lang<span style=color:#e6db74>}</span><span style=color:#e6db74>)&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    other_lang <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;en&#34;</span> <span style=color:#66d9ef>if</span> detected_lang <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;de&#34;</span> <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#34;de&#34;</span>
</span></span><span style=display:flex><span>    base_name <span style=color:#f92672>=</span> md_file<span style=color:#f92672>.</span>stem
</span></span><span style=display:flex><span>    parent_dir <span style=color:#f92672>=</span> md_file<span style=color:#f92672>.</span>parent
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    source_file <span style=color:#f92672>=</span> parent_dir <span style=color:#f92672>/</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>base_name<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>{</span>detected_lang<span style=color:#e6db74>}</span><span style=color:#e6db74>.md&#34;</span>
</span></span><span style=display:flex><span>    target_file <span style=color:#f92672>=</span> parent_dir <span style=color:#f92672>/</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>base_name<span style=color:#e6db74>}</span><span style=color:#e6db74>.</span><span style=color:#e6db74>{</span>other_lang<span style=color:#e6db74>}</span><span style=color:#e6db74>.md&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    post_hash <span style=color:#f92672>=</span> hash_text(content)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Skip if translated file exists AND content hash hasn&#39;t changed</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> target_file<span style=color:#f92672>.</span>exists():
</span></span><span style=display:flex><span>        existing_translated <span style=color:#f92672>=</span> frontmatter<span style=color:#f92672>.</span>load(target_file)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> existing_translated<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;base_hash&#34;</span>) <span style=color:#f92672>==</span> post_hash:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;‚úÖ Skipping </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74>: translation up-to-date&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;üîÅ Updating translation for </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74> ‚Üí </span><span style=color:#e6db74>{</span>target_file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;üåç Translating </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74> ‚Üí </span><span style=color:#e6db74>{</span>target_file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Copy base file to language-specific name if missing</span>
</span></span><span style=display:flex><span>    shutil<span style=color:#f92672>.</span>copy(md_file, source_file)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;üìÑ Copied </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74> ‚Üí </span><span style=color:#e6db74>{</span>source_file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Mask placeholders before translation</span>
</span></span><span style=display:flex><span>    masked_content, placeholders <span style=color:#f92672>=</span> mask_placeholders(content)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Translate masked content</span>
</span></span><span style=display:flex><span>    translated_masked_content <span style=color:#f92672>=</span> translate(masked_content, detected_lang, other_lang)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> translated_masked_content:
</span></span><span style=display:flex><span>        print(
</span></span><span style=display:flex><span>            <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;‚ö†Ô∏è Translation failed for </span><span style=color:#e6db74>{</span>md_file<span style=color:#e6db74>}</span><span style=color:#e6db74> from </span><span style=color:#e6db74>{</span>detected_lang<span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>{</span>other_lang<span style=color:#e6db74>}</span><span style=color:#e6db74>, skipping.&#34;</span>
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Unmask placeholders in translated content</span>
</span></span><span style=display:flex><span>    translated_content <span style=color:#f92672>=</span> unmask_placeholders(translated_masked_content, placeholders)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Prepare translated post with metadata and base_hash</span>
</span></span><span style=display:flex><span>    translated_post <span style=color:#f92672>=</span> frontmatter<span style=color:#f92672>.</span>Post(translated_content, <span style=color:#f92672>**</span>post<span style=color:#f92672>.</span>metadata)
</span></span><span style=display:flex><span>    translated_post[<span style=color:#e6db74>&#34;base_hash&#34;</span>] <span style=color:#f92672>=</span> post_hash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Translate title if exists</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;title&#34;</span> <span style=color:#f92672>in</span> post<span style=color:#f92672>.</span>metadata:
</span></span><span style=display:flex><span>        translated_title <span style=color:#f92672>=</span> translate(post<span style=color:#f92672>.</span>metadata[<span style=color:#e6db74>&#34;title&#34;</span>], detected_lang, other_lang)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> translated_title:
</span></span><span style=display:flex><span>            translated_post[<span style=color:#e6db74>&#34;title&#34;</span>] <span style=color:#f92672>=</span> translated_title
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Save translated file</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(target_file, <span style=color:#e6db74>&#34;w&#34;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        f<span style=color:#f92672>.</span>write(frontmatter<span style=color:#f92672>.</span>dumps(translated_post))
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;‚úÖ Translated and saved </span><span style=color:#e6db74>{</span>target_file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p>After the new files are commited. The push to main triggers a new hugo build.</p></div><footer class=post-footer><ul class=post-tags></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on x" href="https://x.com/intent/tweet/?text=Free%20Hugo%20autotranslator%20for%20Github%20Pages&amp;url=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f&amp;title=Free%20Hugo%20autotranslator%20for%20Github%20Pages&amp;summary=Free%20Hugo%20autotranslator%20for%20Github%20Pages&amp;source=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f&title=Free%20Hugo%20autotranslator%20for%20Github%20Pages"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on whatsapp" href="https://api.whatsapp.com/send?text=Free%20Hugo%20autotranslator%20for%20Github%20Pages%20-%20https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on telegram" href="https://telegram.me/share/url?text=Free%20Hugo%20autotranslator%20for%20Github%20Pages&amp;url=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Free Hugo autotranslator for Github Pages on ycombinator" href="https://news.ycombinator.com/submitlink?t=Free%20Hugo%20autotranslator%20for%20Github%20Pages&u=https%3a%2f%2fblog.matschcode.de%2fen%2fcoding%2fhugo-autotranslator%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.matschcode.de/en/>MatSch Web</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script src=https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js></script><script src=https://cdn.counter.dev/script.js data-id=ad3d8a1d-120c-4f64-a5cf-2ae40ee7113b data-utcoffset=2></script></body></html>